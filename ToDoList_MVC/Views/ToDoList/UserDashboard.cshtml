@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@model ToDoList_MVC.Models.ViewModels.UserDashboardViewModel

<h1>Welcome @Model.EmailAddress !!</h1>

<a asp-controller="ToDoList" asp-action="CreateNew">Create New Item</a>
<br />


@foreach (ToDo item in Model.ToDoItems)
{

    @if (item.IsCompleted)
    {
        <del>
            <h2>Description: @item.Description </h2>
            <h3>ID: @item.ID</h3>
            <p>Due Date: @item.DueDate</p>
        </del>
        <input asp-controller="ToDoList" asp-action="TryCompleteItem" type="checkbox" checked="checked" />
        <a asp-controller="ToDoList" asp-action="TryCompleteItem" asp-route-itemId="@item.ID">Mark incomplete</a>

    }
    else
    {
        <h2>Description: @item.Description </h2>
        <h3>ID: @item.ID</h3>
        <p>Due Date: @item.DueDate</p>
        <p>Is Completed?</p>
        <a asp-controller="ToDoList" asp-action="TryCompleteItem" asp-route-itemId="@item.ID">Complete!</a>
    }
    <a asp-controller="ToDoList" asp-action="TryDeleteItem" asp-route-itemId="@item.ID">Delete</a>
}
